<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:description" content="dot.JACK Comics 🐭">
    <meta property="og:image" content="https://media.discordapp.net/attachments/1201180195655258202/1201180426019016734/image.png">
    <meta property="og:url" content="https://garbodog.github.io/dotJACK/Main.html">
    <link rel="icon" href="https://media.discordapp.net/attachments/1201180195655258202/1201211929650266183/logo.png" type="image/png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Shantell+Sans:wght@400;700&display=swap">
    <title>dot.JACK</title>
    <style>
        body {
            text-align: center;
            background-color: #f0f0f0;
            font-family: 'Shantell Sans', sans-serif; /* Use Shantell Sans font */
        }
        #navbar {
            background-color: #ffffff;
            padding: 10px;
            color: rgb(0, 0, 0);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        #logo-container {
            margin: 0px 0px -20px 0px; /* Updated margin for equal spacing */
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: auto;
        }
        #site-title {
            font-size: 28px;
            font-weight: bold;
            margin: 10px 0; /* Add margin to separate title and links */
            font-family: 'Shantell Sans', sans-serif; /* Use Shantell Sans font */
        }
        #navbar-links {
            text-decoration: none;
            color: #000;
            font-weight: bold;
            display: flex;
            gap: 20px;
        }
        #navbar-links a {
            text-decoration: none;
            color: #000;
            font-weight: bold;
            position: relative;
        }
        #navbar-links a:hover::after {
            content: "";
            position: absolute;
            width: 100%;
            height: 2px;
            background-color: #000; /* Underline color on hover */
            bottom: -1px;
            left: 0;
        }
        #comic-container {
            max-width: 800px;
            margin: auto;
        }
        #page-number {
            margin-top: 10px;
            font-size: 18px;
        }
        #jump-to-page {
            margin-top: 10px;
        }
        #pageInput {
            border: none;
            border-bottom: 1px solid #000; /* Underline color */
            outline: none;
            background: transparent; /* Transparent background */
            width: 50px;
            padding: 2px; /* Adjust padding for better appearance */
            margin-right: 5px; /* Adjust margin for better appearance */
            font-family: 'Shantell Sans', sans-serif; /* Use Shantell Sans font */
        }
        #jump-button {
            border: none; /* Remove border */
            background: none; /* Transparent background */
            cursor: pointer;
            padding: 0; /* Remove padding */
            margin: 0; /* Remove margin */
        }

        #jump-button img {
            width: 16px; /* Set width of the image */
            height: auto;
            margin: 0px 0px -5px 0px; /* Updated margin for equal spacing */
        }

        #jump-button:hover {
            background-color: transparent; /* No hover effect */
            filter: brightness(.8);
        }
        .navigation-button {
            background: none;
            border: none;
            cursor: pointer;
        }
        .navigation-button:hover{
            filter: brightness(.8);
        }
        #shareButton {
            border: none; /* Remove border */
            background: none; /* Transparent background */
            cursor: pointer;
            padding: 0; /* Remove padding */
            margin: 0; /* Remove margin */
            width: 40px; /* Set width of the image */
            height: auto;
        }
        #shareButton:hover {
            filter: brightness(.8);
        }

    </style>
</head>
<body>

<div id="navbar">
    <div id="logo-container">
        <img src="https://media.discordapp.net/attachments/1201180195655258202/1201211929650266183/logo.png" alt="Logo" style="width: 100px; height: auto;">
    </div>
    <div>
        <p><span id="site-title">dot.JACK</span><br><span id="navbar-links"><a href="javascript:void(0)" onclick="lastPage()">Latest</a> - <a href="https://bsky.app/profile/garbodog.bsky.social" target="_blank">Bluskies</a></span></p>
    </div>
</div>

<p></p>
<div id="comic-container">
    <img id="ogImage" src="https://media.discordapp.net/attachments/1201180195655258202/1201180426019016734/image.png" alt="Comic Page 1">
</div>

<div id="page-number">Page 1</div>

<div>
    <button class="navigation-button" onclick="prevPage()">
        <img src="https://media.discordapp.net/attachments/1201180195655258202/1201227184166154271/Left_Arrow.png" alt="Previous Page" style="width: 30px; height: auto;">
    </button>
    <button class="navigation-button" onclick="nextPage()">
        <img src="https://media.discordapp.net/attachments/1201180195655258202/1201227184371683368/Right_Arrow.png" alt="Next Page" style="width: 30px; height: auto;">
    </button>
</div>
<div id="jump-to-page">
    <label for="pageInput">Jump to Page:</label>
    <input type="number" id="pageInput" min="1" max="11"> <!-- Adjust max value based on the number of pages -->
    <button id="jump-button" onclick="jumpToPage()">
        <img src="https://media.discordapp.net/attachments/1201180195655258202/1201248308623056956/check_mark.png" alt="Go">
    </button>
</div>

<p></p>

<div>
    <button id="shareButton" onclick="shareComic()"><img src="https://media.discordapp.net/attachments/1201180195655258202/1202396767455416461/Share_Button.png"></button>
    
</div>

<script>
    var comicPages = [
        "https://media.discordapp.net/attachments/1201180195655258202/1201180426019016734/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1201202234910834698/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1201209137439191132/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1201259643549265980/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1201603621897388043/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1201642211457126521/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1202267525484650587/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1202396721485848746/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1202686926533042266/image.png?ex=65ce5c7c&is=65bbe77c&hm=a143e22b9213e3eaf7daffc57bea4709d77c090e4a8b4374159dc55928e511dd&=&format=webp&quality=lossless&width=687&height=683",
        "https://media.discordapp.net/attachments/1201180195655258202/1203188373032804483/image.png",
        "https://media.discordapp.net/attachments/1201180195655258202/1203425804567183401/image.png?ex=65d10c9e&is=65be979e&hm=d97301ea97f2a992aab5f5f7353eb847c30b1ac6ee7c3e3682c0ea1a96ba4c3e&=&format=webp&quality=lossless&width=720&height=469"
    ];

    var currentPageIndex = 0;

    function prevPage() {
        if (currentPageIndex > 0) {
            currentPageIndex--;
            updateComic();
        }
    }

    function nextPage() {
        if (currentPageIndex < comicPages.length - 1) {
            currentPageIndex++;
            updateComic();
        }
    }

    function lastPage() {
        currentPageIndex = comicPages.length - 1;
        updateComic();
        updateJumpMax(); // Call the function to update the max attribute
    }

    function updateJumpMax() {
        var pageInput = document.getElementById("pageInput");
        pageInput.max = comicPages.length; // Set the max attribute dynamically
    }

    function jumpToPage() {
        var pageInput = document.getElementById("pageInput").value;
        if (pageInput >= 1 && pageInput <= comicPages.length) {
            currentPageIndex = pageInput - 1;
            updateComic();
        } else {
            alert("Invalid page number!");
        }
    }

    function updateComic() {
        var comicImage = document.getElementById("ogImage");
        comicImage.src = comicPages[currentPageIndex];
        var pageNumberElement = document.getElementById("page-number");
        pageNumberElement.innerText = "Page " + (currentPageIndex + 1);

        // Update button states
        var prevButton = document.getElementById("prevButton");
        var nextButton = document.getElementById("nextButton");

        prevButton.disabled = currentPageIndex === 0;
        nextButton.disabled = currentPageIndex === comicPages.length - 1;

        // Hide/show buttons based on the page index
        prevButton.style.display = currentPageIndex === 0 ? "none" : "block";
        nextButton.style.display = currentPageIndex === comicPages.length - 1 ? "none" : "block";
    }

    function shareComic() {
        const currentImageUrl = currentPageIndex + 1;
        const shareableLink = `https://garbodog.github.io/dotJACK/Main.html?pg=${currentImageUrl}`;

        navigator.clipboard.writeText(shareableLink)
            .then(() => {
                alert("Link copied to clipboard! :>");
            })
            .catch((error) => {
                alert('Sorry, there was an error copying link :<');
            })
    }

    function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

    // Update the 'ogImage' in the JavaScript code
    function updateOgImage() {
        var pgParam = getParameterByName('pg');
        if (pgParam !== null && pgParam >= 1 && pgParam <= comicPages.length) {
            currentPageIndex = pgParam - 1;
            var ogImage = document.getElementById("ogImage");
            ogImage.src = comicPages[currentPageIndex];
            updateComic();  // Move this line here
        }
    }

    updateOgImage();
</script>

</body>
</html>
